import{_ as e,c as s,o as i,ah as a}from"./chunks/framework.ByubJJ5I.js";const p=JSON.parse('{"title":"「合集」Linux 常用命令","description":"","frontmatter":{"title":"「合集」Linux 常用命令","date":"2025-03-16T19:25:02.000Z","lastmod":"2025-03-16T19:28:22.000Z","tags":["合集","Linux","命令"]},"headers":[],"relativePath":"content/collection-linux-commands.md","filePath":"content/collection-linux-commands.md"}'),l={name:"content/collection-linux-commands.md"};function n(h,t,d,r,k,c){return i(),s("div",null,[...t[0]||(t[0]=[a('<h1 id="「合集」linux-常用命令" tabindex="-1">「合集」Linux 常用命令 <a class="header-anchor" href="#「合集」linux-常用命令" aria-label="Permalink to “「合集」Linux 常用命令”">​</a></h1><p>收集整理，自用。</p><hr><h1 id="i" tabindex="-1">I <a class="header-anchor" href="#i" aria-label="Permalink to “I”">​</a></h1><h2 id="init" tabindex="-1">init <a class="header-anchor" href="#init" aria-label="Permalink to “init”">​</a></h2><p>重启：<code>init 6</code></p><hr><h1 id="j" tabindex="-1">J <a class="header-anchor" href="#j" aria-label="Permalink to “J”">​</a></h1><h2 id="journalctl" tabindex="-1">journalctl <a class="header-anchor" href="#journalctl" aria-label="Permalink to “journalctl”">​</a></h2><p>配置自动维护日志文件大小</p><p>只保留近两周的日志：<code>journalctl --vacuum-time=2w</code></p><p>只保留 256MB 的日志：<code>journalctl --vacuum-size=256M</code></p><p>参考：<a href="https://cloud.tencent.com/developer/article/1446278" target="_blank" rel="noreferrer">Linux 系统 /var/log/journal/ 垃圾日志清理</a></p><hr><h1 id="p" tabindex="-1">P <a class="header-anchor" href="#p" aria-label="Permalink to “P”">​</a></h1><h2 id="pkill-强制踢掉登录的用户" tabindex="-1">pkill（强制踢掉登录的用户） <a class="header-anchor" href="#pkill-强制踢掉登录的用户" aria-label="Permalink to “pkill（强制踢掉登录的用户）”">​</a></h2><h3 id="查看用户" tabindex="-1">查看用户 <a class="header-anchor" href="#查看用户" aria-label="Permalink to “查看用户”">​</a></h3><p>Linux 系统 root 用户可强制踢制其它登录用户，非 root 用户只能踢掉当前用户名的用户。用 <code>w</code> 命令可以查看登录的用户的信息。</p><h3 id="踢掉用户" tabindex="-1">踢掉用户 <a class="header-anchor" href="#踢掉用户" aria-label="Permalink to “踢掉用户”">​</a></h3><p>命令格式：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pkill</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -kill</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p>说明：</p><p>​<code>&lt;tty&gt;</code>​ 为要踢的用户的 tty，例如 <code>pkill -kill -t pts/1</code>。</p><hr><h1 id="s" tabindex="-1">S <a class="header-anchor" href="#s" aria-label="Permalink to “S”">​</a></h1><h2 id="screen" tabindex="-1">screen <a class="header-anchor" href="#screen" aria-label="Permalink to “screen”">​</a></h2><h3 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-label="Permalink to “命令”">​</a></h3><h4 id="列出当前所有的-session" tabindex="-1">列出当前所有的 session <a class="header-anchor" href="#列出当前所有的-session" aria-label="Permalink to “列出当前所有的 session”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">screen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ls</span></span></code></pre></div><h4 id="创建名称为-name-的-session" tabindex="-1">创建名称为 <code>name</code> 的 session <a class="header-anchor" href="#创建名称为-name-的-session" aria-label="Permalink to “创建名称为 name 的 session”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">screen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span></span></code></pre></div><h4 id="回到名称为-name-的-session" tabindex="-1">回到名称为 <code>name</code> 的 session <a class="header-anchor" href="#回到名称为-name-的-session" aria-label="Permalink to “回到名称为 name 的 session”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">screen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span></span></code></pre></div><h4 id="detach-名称为-name-的-session" tabindex="-1">detach 名称为 <code>name</code> 的 session <a class="header-anchor" href="#detach-名称为-name-的-session" aria-label="Permalink to “detach 名称为 name 的 session”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">screen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span></span></code></pre></div><h4 id="结束当前-session-并回到名称为-name-的-session" tabindex="-1">结束当前 session 并回到名称为 <code>name</code> 的 session <a class="header-anchor" href="#结束当前-session-并回到名称为-name-的-session" aria-label="Permalink to “结束当前 session 并回到名称为 name 的 session”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">screen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span></span></code></pre></div><h3 id="按键" tabindex="-1">按键 <a class="header-anchor" href="#按键" aria-label="Permalink to “按键”">​</a></h3><p>在每个 screen session 下，所有命令都以 <code>Ctrl + A</code>（C-A）开始</p><table tabindex="0"><thead><tr><th style="text-align:left;">按键</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:left;">C-A ?</td><td style="text-align:left;">显示所有键绑定信息</td></tr><tr><td style="text-align:left;">C-A X</td><td style="text-align:left;">锁定当前的 screen session，需用用户密码解锁</td></tr><tr><td style="text-align:left;">C-A D</td><td style="text-align:left;">detach，暂时断开当前的 screen session，用 <code>screen</code> 命令回去</td></tr><tr><td style="text-align:left;">C-A Z</td><td style="text-align:left;">把当前的 screen session 放到后台执行，用 <code>fg</code> 命令回去</td></tr></tbody></table><hr><h1 id="t" tabindex="-1">T <a class="header-anchor" href="#t" aria-label="Permalink to “T”">​</a></h1><h2 id="tar" tabindex="-1">tar <a class="header-anchor" href="#tar" aria-label="Permalink to “tar”">​</a></h2><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to “参数”">​</a></h3><p>注意：-c / -t / -u / -x 不可同时出现</p><table tabindex="0"><thead><tr><th style="text-align:left;">参数（缩写）</th><th style="text-align:left;">参数（完整）</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">-c</td><td style="text-align:left;">--create</td><td style="text-align:left;">创建新的压缩文件</td></tr><tr><td style="text-align:left;">-d</td><td style="text-align:left;">--diff, --compare</td><td style="text-align:left;">比较压缩文件与当前压缩文件的不同之处</td></tr><tr><td style="text-align:left;">-f</td><td style="text-align:left;">--file</td><td style="text-align:left;">指定压缩文件或设备</td></tr><tr><td style="text-align:left;">-t</td><td style="text-align:left;">--list</td><td style="text-align:left;">显示压缩文件的文件目录</td></tr><tr><td style="text-align:left;">-u</td><td style="text-align:left;">--update</td><td style="text-align:left;">仅将较新的文件附加到存档中</td></tr><tr><td style="text-align:left;">-v</td><td style="text-align:left;">--verbose</td><td style="text-align:left;">详细显示处理的文件</td></tr><tr><td style="text-align:left;">-x</td><td style="text-align:left;">--extract</td><td style="text-align:left;">解压压缩文件</td></tr><tr><td style="text-align:left;">-z</td><td style="text-align:left;">--gzip</td><td style="text-align:left;">通过 gzip 对文件进行压缩或解压（.tar.gz 或 .tgz）</td></tr></tbody></table><h3 id="命令-1" tabindex="-1">命令 <a class="header-anchor" href="#命令-1" aria-label="Permalink to “命令”">​</a></h3><h4 id="压缩当前路径下的-test-content-​-文件夹为-file-tgz" tabindex="-1">压缩当前路径下的 <code>test/content/</code>​ 文件夹为 <code>file.tgz</code> <a class="header-anchor" href="#压缩当前路径下的-test-content-​-文件夹为-file-tgz" aria-label="Permalink to “压缩当前路径下的 test/content/​ 文件夹为 file.tgz”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zcvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file.tgz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test/content/</span></span></code></pre></div><h4 id="压缩当前路径下的-test-content-​-文件夹和-test-text-txt​-文件为-file-tgz" tabindex="-1">压缩当前路径下的 <code>test/content/</code>​ 文件夹和 <code>test/text.txt</code>​ 文件为 <code>file.tgz</code> <a class="header-anchor" href="#压缩当前路径下的-test-content-​-文件夹和-test-text-txt​-文件为-file-tgz" aria-label="Permalink to “压缩当前路径下的 test/content/​ 文件夹和 test/text.txt​ 文件为 file.tgz”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zcvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file.tgz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test/content/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test/text.txt</span></span></code></pre></div><h4 id="压缩-当前路径​-的文件夹为-file-tgz" tabindex="-1">压缩 <code>当前路径</code>​ 的文件夹为 <code>file.tgz</code> <a class="header-anchor" href="#压缩-当前路径​-的文件夹为-file-tgz" aria-label="Permalink to “压缩 当前路径​ 的文件夹为 file.tgz”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zcvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file.tgz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span></span></code></pre></div><h4 id="压缩当前路径下的-test-content-​-文件夹为-file-tgz-1" tabindex="-1">压缩当前路径下的 <code>test/content/</code>​ 文件夹为 <code>file.tgz</code>， <a class="header-anchor" href="#压缩当前路径下的-test-content-​-文件夹为-file-tgz-1" aria-label="Permalink to “压缩当前路径下的 test/content/​ 文件夹为 file.tgz，”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 其中不包含 `test/content/text_a.txt` 文件和 `test/content/test/text_b.txt` 文件</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --exclude=text_a.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --exclude=test/text_b.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zcvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file.tgz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test/content/</span></span></code></pre></div><h4 id="解压-当前路径​-下的-file-tar" tabindex="-1">解压 <code>当前路径</code>​ 下的 <code>file.tar</code> <a class="header-anchor" href="#解压-当前路径​-下的-file-tar" aria-label="Permalink to “解压 当前路径​ 下的 file.tar”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file.tar</span></span></code></pre></div><h4 id="解压-当前路径​-下的-file-tgz" tabindex="-1">解压 <code>当前路径</code>​ 下的 <code>file.tgz</code> <a class="header-anchor" href="#解压-当前路径​-下的-file-tgz" aria-label="Permalink to “解压 当前路径​ 下的 file.tgz”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file.tgz</span></span></code></pre></div><h2 id="taskset" tabindex="-1">taskset <a class="header-anchor" href="#taskset" aria-label="Permalink to “taskset”">​</a></h2><p>指定 CPU <code>0~3</code>​ 执行当前路径下的 <code>start.sh</code>：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">taskset</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0-3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./start.sh</span></span></code></pre></div><p>‍</p>',63)])])}const g=e(l,[["render",n]]);export{p as __pageData,g as default};
