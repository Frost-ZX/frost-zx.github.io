import{_ as a,c as l,o as i,ah as t,bV as o,bW as r,bX as c,bY as d,bZ as s,b_ as n,b$ as p,c0 as u,c1 as b,c2 as h,c3 as m,c4 as g,c5 as k,c6 as _,c7 as x,c8 as f,c9 as y,ca as z,cb as T,cc as q,cd as D,ce as J,cf as E,cg as P,ch as U,ci as A,cj as K,ck as v,cl as j,cm as R,cn as C,co as S,cp as V,cq as w,cr as F,cs as I}from"./chunks/framework.ByubJJ5I.js";const Y=JSON.parse('{"title":"「教程」在 Termux 中安装任意版本的 JDK","description":"","frontmatter":{"title":"「教程」在 Termux 中安装任意版本的 JDK","date":"2025-03-16T15:43:12.000Z","lastmod":"2025-03-16T15:45:51.000Z","tags":["教程","Android","Java","JDK","Termux"]},"headers":[],"relativePath":"content/termux-jdk.md","filePath":"content/termux-jdk.md"}'),M={name:"content/termux-jdk.md"};function N(O,e,$,H,L,Z){return i(),l("div",null,[...e[0]||(e[0]=[t('<h1 id="「教程」在-termux-中安装任意版本的-jdk" tabindex="-1">「教程」在 Termux 中安装任意版本的 JDK <a class="header-anchor" href="#「教程」在-termux-中安装任意版本的-jdk" aria-label="Permalink to “「教程」在 Termux 中安装任意版本的 JDK”">​</a></h1><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to “简介”">​</a></h2><ul><li>主要通过在 Termux 中安装系统的方式实现，本教程以安装 Ubuntu 系统为例。</li><li>本教程基于 MIUI 12（Android 11），并在 Mokee 100.0（Android 10）中测试通过。</li><li>本教程中可能会存在描述不准确的地方，欢迎各位在评论区中指出。</li><li>建议您在有一定的 Linux 命令行操作经验的情况下阅读本教程。</li><li>建议在开始阅读前先大致浏览一遍本教程的内容，了解大概步骤。</li></ul><h2 id="准备" tabindex="-1">准备 <a class="header-anchor" href="#准备" aria-label="Permalink to “准备”">​</a></h2><h3 id="软件下载" tabindex="-1">软件下载 <a class="header-anchor" href="#软件下载" aria-label="Permalink to “软件下载”">​</a></h3><ul><li><a href="https://f-droid.org/zh_Hans/packages/com.termux/" target="_blank" rel="noreferrer">Termux - 本体</a></li><li><a href="https://f-droid.org/zh_Hans/packages/exa.lnx.a/" target="_blank" rel="noreferrer">AnLinux - 获取系统安装脚本</a></li><li><a href="https://coolapk.com/apk/bin.mt.plus" target="_blank" rel="noreferrer">MT管理器 - 管理文件，可用其他类似软件代替</a></li></ul><h3 id="相关链接" tabindex="-1">相关链接 <a class="header-anchor" href="#相关链接" aria-label="Permalink to “相关链接”">​</a></h3><ul><li><a href="https://adoptium.net/" target="_blank" rel="noreferrer">Adoptium（用于下载 JDK）</a></li><li><a href="https://frost-zx.lanzoul.com/b00p69g4b/" target="_blank" rel="noreferrer">离线安装系统用文件（密码：9hac）</a></li></ul><h2 id="启动-termux-安装相关的软件包" tabindex="-1">启动 Termux &amp; 安装相关的软件包 <a class="header-anchor" href="#启动-termux-安装相关的软件包" aria-label="Permalink to “启动 Termux &amp; 安装相关的软件包”">​</a></h2><ol><li>启动 Termux，等待初始化完成（仅在第一次启动时）。</li><li>执行 <code>pkg update</code>​ 命令，更新软件包信息。<br> 可能会出现类似这样的提示，如果没有手动修改过提示中的文件，<br> 可以输入 <code>Y</code>​，否则输入 <code>N</code>​，然后点击 <code>ENTER</code>​。<br> ​<img src="'+o+'" alt="初始化" title="初始化" loading="lazy"></li><li>执行 <code>pkg install openssl-tool proot vim wget -y</code> 命令，安装4个软件包。</li></ol><h2 id="安装系统" tabindex="-1">安装系统 <a class="header-anchor" href="#安装系统" aria-label="Permalink to “安装系统”">​</a></h2><h3 id="方式一、在线安装" tabindex="-1">方式一、在线安装 <a class="header-anchor" href="#方式一、在线安装" aria-label="Permalink to “方式一、在线安装”">​</a></h3><blockquote><p>此方式需要访问位于海外的服务器，因此对网络环境的要求较高。<br> 如果网络不稳定，建议参考离线安装方式进行操作。</p></blockquote><ol><li>打开 AnLinux，选择需要安装的系统。<br> ​<img src="'+r+'" alt="在线安装" title="在线安装" loading="lazy"></li><li>复制软件给出的安装命令。<br> ​<img src="'+c+'" alt="在线安装" title="在线安装" loading="lazy"></li><li>在 Termux 中执行 <code>cd ~</code>​ 命令，切换工作目录到 <code>home</code>​ 文件夹。<br> 然后粘贴复制的命令，等待脚本自动完成安装操作。<br> 如果网络状况不稳定，可能会出现安装失败或文件下载失败的情况。<br> 一般来说，如果在输出的内容中已经出现 <code>Resolving...</code>​、<code>Connecting...</code>​ 之类的提示，则表示命令前方部分的 <code>pkg install</code>​ 部分已执行成功，但在后方部分的 <code>wget</code>​ 下载安装脚本或 Rootfs 文件的过程中出现错误。<br> ​<img src="'+d+'" alt="在线安装" title="在线安装" loading="lazy"><br> ​<img src="'+s+'" alt="在线安装" title="在线安装" loading="lazy"><br> 如果文件下载失败（输出的内容中有类似 <code>Connection timed out</code>​、<code>Unable to establish connection</code>​、<code>Unexpected EOF in archive</code>​ 的提示），则执行 <code>ls -a</code>​ 命令，查看是否存在 <code>start-ubuntu.sh</code>​、<code>ubuntu.sh</code>​、<code>ubuntu-rootfs.tar.gz</code>​、<code>ubuntu-binds</code>​、<code>ubuntu-fs</code>​ 这几个文件（文件夹）。如果存在则执行 <code>rm -rf &lt;文件名&gt;</code>​ 命令将其删除（也可以直接执行 <code>rm -rf *ubuntu*</code>​ 命令），才能再次执行复制的命令，否则可能会被误认为文件已经下载完成或出现其他问题。<br> ​<img src="'+n+'" alt="在线安装" title="在线安装" loading="lazy"></li><li>如果文件下载完毕且安装成功，则会出现类似这样的提示：<br> ​<img src="'+p+'" alt="在线安装" title="在线安装" loading="lazy"></li></ol><h3 id="方式二、离线安装" tabindex="-1">方式二、离线安装 <a class="header-anchor" href="#方式二、离线安装" aria-label="Permalink to “方式二、离线安装”">​</a></h3><ol><li><p>打开 AnLinux，点击侧边栏中的“下载 Rootfs（离线用途）”。<br> ​<img src="'+u+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>点击界面中的“查看”按钮，跳转到下载页面。<br> ​<img src="'+b+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>根据所需要安装的版本和 CPU 架构，进入对应的文件夹。</p><blockquote><p>目前手机 CPU 的架构一般为 64 位 ARM。<br> 对于 Ubuntu 系统，路径为 <code>Anlinux-Resources/Rootfs/Ubuntu/arm64/</code>。</p></blockquote><p><img src="'+h+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>点击文件 <code>ubuntu-rootfs-arm64.tar.xz</code>，进入详情页面，然后点击“Download”按钮进行下载。</p><blockquote><p>本教程中使用的文件的更新日期为 <strong>2021-08-14</strong>。</p></blockquote></li><li><p>进入 <code>Anlinux-Resources/Scripts/Installer/</code> 文件夹，下载对应系统的安装脚本。</p><blockquote><p>Ubuntu 系统的安装脚本路径为 <code>Anlinux-Resources/Scripts/Installer/Ubuntu/ubuntu.sh</code>​。<br> 本教程中使用的文件的更新日期为 <strong>2020-01-15</strong>。</p></blockquote><p><img src="'+m+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>将下载好的安装脚本和 Rootfs 文件移动到任意位置放好（也可以不移动）。<br> ​<img src="'+g+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>点击安装脚本（ubuntu.sh），选择“编辑”，查看 Rootfs 的文件名。<br> ​<img src="'+k+'" alt="离线安装" title="离线安装" loading="lazy"><br> ​<img src="'+_+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>重命名 Rootfs 文件名，与脚本中的一致。<br> ​<img src="'+x+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>执行 <code>cp &lt;源路径&gt; &lt;目标路径&gt;</code> 命令，复制 Rootfs 文件和安装脚本到 Termux 中。</p><blockquote><p>注：<br> 执行 <code>cp</code>​ 命令前可以先执行 <code>cd</code>​ 命令切换工作目录；<br> 建议执行 <code>cd ~</code>​ 命令，回到 <code>home</code>​ 目录，方便后续操作。<br> 命令中的 <code>.</code> 表示执行命令时的工作目录。</p></blockquote><p><img src="'+f+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>执行 <code>bash &lt;安装脚本文件名&gt;</code>​ 命令，调用脚本，安装系统。<br> ​<img src="'+y+'" alt="离线安装" title="离线安装" loading="lazy"></p></li></ol><h2 id="进入-ubuntu-系统" tabindex="-1">进入 Ubuntu 系统 <a class="header-anchor" href="#进入-ubuntu-系统" aria-label="Permalink to “进入 Ubuntu 系统”">​</a></h2><ol><li><p>如果需要挂载手机的内部储存到 Ubuntu 中，可以按以下步骤修改 Ubuntu 的启动脚本。</p><blockquote><p><strong>建议修改，方便传输文件。</strong></p></blockquote><p>执行 <code>vim ~/start-ubuntu.sh</code>​ 命令，打开编辑器：<br> ​<img src="'+z+'" alt="离线安装" title="离线安装" loading="lazy"><br> 点击 <code>i</code>​ 键，进入插入模式，然后将第 20 行前的 <code>#</code>​ 删除（取消注释）：<br> ​<img src="'+T+'" alt="离线安装" title="离线安装" loading="lazy"><br> 点击 <code>ESC</code>​，输入 <code>:wq</code>​，点击 <code>ENTER</code>​，保存并关闭文件：<br> ​<img src="'+q+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>然后就可以执行 <code>bash ~/start-ubuntu.sh</code> 命令，进入安装的 Ubuntu 系统了。</p><blockquote><p>注：<br> 如果当前的工作目录为 <code>home</code>​，可以执行 <code>./start-ubuntu.sh</code>。<br> 下一次打开 Termux 时也是通过执行此命令进入 Ubuntu 系统。</p></blockquote><p><img src="'+D+'" alt="离线安装" title="离线安装" loading="lazy"></p></li><li><p>进入系统后，执行一次 <code>apt update</code> 命令，更新软件包信息。</p><blockquote><p>如果有需要，可以继续执行 ｀apt upgrade` 命令更新软件包。</p></blockquote></li><li><p>执行 <code>apt install vim</code> 命令，安装 Vim。</p></li></ol><h2 id="安装-jdk" tabindex="-1">安装 JDK <a class="header-anchor" href="#安装-jdk" aria-label="Permalink to “安装 JDK”">​</a></h2><h3 id="方式一、安装-ubuntu-软件源中的-jdk" tabindex="-1">方式一、安装 Ubuntu 软件源中的 JDK <a class="header-anchor" href="#方式一、安装-ubuntu-软件源中的-jdk" aria-label="Permalink to “方式一、安装 Ubuntu 软件源中的 JDK”">​</a></h3><ol><li><p>执行 <code>apt search openjdk</code> 命令，查看可安装的 JDK 版本。</p></li><li><p>如果需要安装 OpenJDK 8，则执行 <code>apt install openjdk-8-jdk-headless</code>。</p><blockquote><p>因为不使用图形化界面，所以安装 headless 版本即可。</p></blockquote></li><li><p>安装完成后，执行 <code>java -version</code> 命令进行验证。</p></li></ol><h3 id="方式二、从-adoptium-网站下载-jdk" tabindex="-1">方式二、从 Adoptium 网站下载 JDK <a class="header-anchor" href="#方式二、从-adoptium-网站下载-jdk" aria-label="Permalink to “方式二、从 Adoptium 网站下载 JDK”">​</a></h3><h4 id="下载文件" tabindex="-1">下载文件 <a class="header-anchor" href="#下载文件" aria-label="Permalink to “下载文件”">​</a></h4><ol><li><p>访问 Adoptium 网站。</p></li><li><p>点击“Other platforms”，然后选择所需要的版本。<br> ​<img src="'+J+'" alt="方式二" title="方式二" loading="lazy"><br> ​<img src="'+E+'" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>选择操作系统和 CPU 架构</p><blockquote><p>操作系统：Linux<br> CPU 架构：32位 - arm32 / 64位 - aarch64</p></blockquote><p><img src="'+P+'" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>点击列表项右侧的图标进行下载。</p><blockquote><p>部分可以选择下载 JDK 或 JRE 版本，如果只是需要 Java 运行环境（例如开 Minecraft 服务器），可以下载 JRE 版本。</p></blockquote><p><img src="'+U+'" alt="方式二" title="方式二" loading="lazy"></p></li></ol><h4 id="安装-设置环境变量" tabindex="-1">安装 &amp; 设置环境变量 <a class="header-anchor" href="#安装-设置环境变量" aria-label="Permalink to “安装 &amp; 设置环境变量”">​</a></h4><blockquote><p>注：如无特殊说明，以下在 Termux 中进行的操作均在安装的 Ubuntu 中进行。</p></blockquote><ol><li><p>将下载好的 JDK 文件移动到任意位置放好（也可以不移动）。<br> ​<img src="'+A+'" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>在 Termux 中执行 <code>cd</code>​ 命令切换工作目录（例如 <code>cd ~</code>​）；<br> 然后执行 <code>mkdir &lt;文件夹名称&gt;</code>​ 命令创建用于放置 JDK 的文件夹；<br> 然后执行 <code>cd &lt;文件夹名称&gt;</code> 命令切换工作目录到创建的文件夹。</p></li><li><p>执行 <code>cp &lt;源路径&gt; &lt;目标路径&gt;</code> 命令，把下载的 JDK 文件复制到 Ubuntu 中。</p><blockquote><p>例如 <code>cp /sdcard/Files/OpenJDK_16.tar.gz .</code>​<br> 注：<code>/sdcard</code> 为手机的内部储存挂载路径，需要修改 Ubuntu 启动脚本才能使用。</p></blockquote><p><img src="'+K+'" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>执行 <code>tar -xzf &lt;文件名&gt;</code>​ 命令，解压文件。<br> ​<img src="'+v+'" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>执行 <code>mv &lt;文件夹名称&gt; &lt;目标名称&gt;</code> 命令，重命名 JDK 文件夹。</p><blockquote><p>主要是方便使用，不一定需要重命名。</p></blockquote><p><img src="'+j+'" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>执行 <code>cd &lt;文件夹名称&gt;/bin/</code>​ 命令，将工作目录切换到 JDK 的 <code>bin</code>​ 文件夹。<br> 然后执行 <code>ls -al</code>​ 命令，查看其中的文件是否有可执行权限（左侧的权限属性有三个 <code>x</code>​）。<br> 一般情况下，该权限在 JDK 文件打包前已经被设置，解压时会自动识别。<br> 如果没有，可以在当前文件夹执行一次 <code>chmod +x *</code>​ 命令。<br> ​<img src="'+R+'" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>执行 <code>./java -version</code>​ 命令，测试是否能出现对应的版本号。<br> ​<img src="'+C+`" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>执行 <code>vim ~/.bash_profile</code>​ 命令（也可以先 <code>cd ~</code>​ 再 <code>vim .bash_profile</code>​），<br> 打开“home”目录下的 <code>.bash_profile</code> 文件，设置环境变量。<br> 默认情况下，应该没有这个文件，将会在保存后自动创建。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JAVA_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/jdk/jdk_16.0.2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PATH:$JAVA_HOME/bin</span></span></code></pre></div><p><img src="`+S+'" alt="方式二" title="方式二" loading="lazy"><br> ​<img src="'+V+'" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>保存后，执行 <code>exit</code>​ 命令退出 Ubuntu 系统，<br> 然后再执行 <code>bash ~/start-ubuntu.sh</code>​ 命令，重新进入 Ubuntu 系统。<br> ​<img src="'+w+'" alt="方式二" title="方式二" loading="lazy"></p></li><li><p>此时执行 <code>java -version</code>​ 命令，有显示对应的版本号则安装成功，否则检查环境变量是否设置正确。<br> ​<img src="'+F+'" alt="方式二" title="方式二" loading="lazy"></p></li></ol><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to “注意事项”">​</a></h2><ul><li>因为该 JDK 是在 Ubuntu 中安装的，所以需要进入 Ubuntu 后才能使用。</li><li>建议在关闭 Termux 前先执行 <code>exit</code> 命令退出系统。</li></ul><h2 id="补充内容" tabindex="-1">补充内容 <a class="header-anchor" href="#补充内容" aria-label="Permalink to “补充内容”">​</a></h2><h3 id="termux" tabindex="-1">Termux <a class="header-anchor" href="#termux" aria-label="Permalink to “Termux”">​</a></h3><ul><li>在系统的通知栏中点击 Termux 通知的“Acquire wakelock”（使用完毕后点击“Release wakelock”），并在“最近任务”中锁定 Termux，可防止 Termux 被系统关闭。<br> ​<img src="'+I+'" alt="补充内容" title="补充内容" loading="lazy"></li><li>安装“Termux:Styling”（可在 F-Droid 上下载）后可以调整 Termux 的样式。</li></ul><h3 id="ubuntu" tabindex="-1">Ubuntu <a class="header-anchor" href="#ubuntu" aria-label="Permalink to “Ubuntu”">​</a></h3><ul><li>如果需要同时使用多个会话，可以安装 <code>screen</code>​ 软件包（<code>apt install screen</code>）。</li></ul><h3 id="vim-操作提示" tabindex="-1">Vim 操作提示 <a class="header-anchor" href="#vim-操作提示" aria-label="Permalink to “Vim 操作提示”">​</a></h3><ul><li>打开编辑器时，默认是“正常模式”，点击键盘上的“i”可进入“插入模式”（此时左下角会显示“INSERT”），然后就可以编辑内容。进入“插入模式”后，点击“ESC”可回到“正常模式”。</li><li>点击“上”“下”“左”“右”箭头可以移动光标。</li><li>在“正常模式”下，点击键盘上的“u”可以进行撤销操作。</li><li>在“正常模式”下，输入“:wq”，按下“回车”键，保存并关闭文件（输入“:w”，仅保存；输入“q”，仅退出；输入“:q!”，不保存并关闭）。</li></ul><p>‍</p>',37)])])}const W=a(M,[["render",N]]);export{Y as __pageData,W as default};
