import{_ as a,c as n,o as i,ah as e}from"./chunks/framework.DZmKp_jX.js";const k=JSON.parse('{"title":"Windows forfiles 命令","description":"","frontmatter":{"title":"Windows forfiles 命令","date":"2025-03-16T16:07:42.000Z","lastmod":"2025-03-16T16:08:11.000Z","tags":["Windows","命令","命令提示符"]},"headers":[],"relativePath":"content/windows-command-forfiles.md","filePath":"content/windows-command-forfiles.md"}'),p={name:"content/windows-command-forfiles.md"};function l(t,s,o,r,d,h){return i(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="windows-forfiles-命令" tabindex="-1">Windows forfiles 命令 <a class="header-anchor" href="#windows-forfiles-命令" aria-label="Permalink to “Windows forfiles 命令”">​</a></h1><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to “参考”">​</a></h2><p><a href="https://docs.microsoft.com/zh-cn/windows-server/administration/windows-commands/forfiles" target="_blank" rel="noreferrer">forfiles | Microsoft Docs</a></p><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to “简介”">​</a></h2><p>forfiles 命令用于对单个文件或一组文件执行特定的命令，通常用于批量处理文件。</p><h2 id="命令语法" tabindex="-1">命令语法 <a class="header-anchor" href="#命令语法" aria-label="Permalink to “命令语法”">​</a></h2><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>forfiles [/P pathname] [/M searchmask] [/S]</span></span>
<span class="line"><span>         [/C command] [/D [+ | -] {yyyy-MM-dd | dd}]</span></span></code></pre></div><h2 id="命令参数" tabindex="-1">命令参数 <a class="header-anchor" href="#命令参数" aria-label="Permalink to “命令参数”">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>/P    pathname      表示开始搜索的路径。默认文件夹是当前工作的目录（.）。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/M    searchmask    根据搜索掩码搜索文件。默认搜索掩码是 &#39;*&#39;。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/S                  指导 forfiles 递归到子目录。像 &quot;DIR /S&quot;。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/C    command       表示为每个文件执行的命令。命令字符串应该用双引号括起来。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    默认命令是 &quot;cmd /c echo @file&quot;。下列变量可以用在命令字符串中:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    @file    - 返回文件名。</span></span>
<span class="line"><span>                    @fname   - 返回不带扩展名的文件名。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    @ext     - 只返回文件的扩展名。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    @path    - 返回文件的完整路径。</span></span>
<span class="line"><span>                    @relpath - 返回文件的相对路径。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    @isdir   - 如果文件类型是目录，返回 &quot;TRUE&quot;；如果是文件，返回 &quot;FALSE&quot;。</span></span>
<span class="line"><span>                    @fsize   - 以字节为单位返回文件大小。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    @fdate   - 返回文件上一次修改的日期。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    @ftime   - 返回文件上一次修改的时间。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    要在命令行包括特殊字符，字符请以 0xHH 形式</span></span>
<span class="line"><span>                    使用十六进制代码（例如 0x09 为 tab）。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    内部 CMD.exe 命令前面应以 &quot;cmd /c&quot; 开始。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/D    date          选择文件，其上一次修改日期大于或等于（+），</span></span>
<span class="line"><span>                    或者小于或等于（-）用 &quot;yyyy-MM-dd&quot; 格式指定的日期;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>                    或选择文件，其上一次修改日期大于或等于（+）当前日期加 &quot;dd&quot; 天，</span></span>
<span class="line"><span>                    或者小于或等于（-）当前日期减 &quot;dd&quot; 天。</span></span>
<span class="line"><span>                    有效的 &quot;dd&quot; 天数可以是 0 - 32768 范围内的任何数字。</span></span>
<span class="line"><span>                    如果没有指定，&quot;+&quot; 被当作默认符号。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/?                  显示此帮助消息。</span></span></code></pre></div><h2 id="命令示例" tabindex="-1">命令示例 <a class="header-anchor" href="#命令示例" aria-label="Permalink to “命令示例”">​</a></h2><div class="language-text"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>FORFILES</span></span>
<span class="line"><span>FORFILES /?</span></span>
<span class="line"><span>FORFILES /P C:\\WINDOWS /S /M DNS*.*</span></span>
<span class="line"><span>FORFILES /S /M *.txt /C &quot;cmd /C type @file | more&quot;</span></span>
<span class="line"><span>FORFILES /P C:\\ /S /M *.bat</span></span>
<span class="line"><span>FORFILES /D -30 /M *.exe /C &quot;cmd /C ECHO @path 0x09 在 30 前就被更改。&quot;</span></span>
<span class="line"><span>FORFILES /D 2001-01-01 /C &quot;cmd /C ECHO @fname 在 2001年1月1日就是新的。&quot;</span></span>
<span class="line"><span>FORFILES /D +2021-8-30 /C &quot;cmd /C ECHO @fname 今天是新的。&quot;</span></span>
<span class="line"><span>FORFILES /M *.exe /D +1</span></span>
<span class="line"><span>FORFILES /S /M *.doc /C &quot;cmd /C ECHO @fsize&quot;</span></span>
<span class="line"><span>FORFILES /M *.txt /C &quot;cmd /C if @isdir==FALSE notepad.exe @file&quot;</span></span></code></pre></div><h3 id="列出当前文件夹下所有文件和文件夹的相对路径" tabindex="-1">列出当前文件夹下所有文件和文件夹的相对路径 <a class="header-anchor" href="#列出当前文件夹下所有文件和文件夹的相对路径" aria-label="Permalink to “列出当前文件夹下所有文件和文件夹的相对路径”">​</a></h3><div class="language-bat"><button title="Copy Code" class="copy"></button><span class="lang">bat</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FORFILES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /S /C </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cmd /C ECHO @relpath&quot;</span></span></code></pre></div><h3 id="删除指定文件夹下指定天数前的文件" tabindex="-1">删除指定文件夹下指定天数前的文件 <a class="header-anchor" href="#删除指定文件夹下指定天数前的文件" aria-label="Permalink to “删除指定文件夹下指定天数前的文件”">​</a></h3><div class="language-bat"><button title="Copy Code" class="copy"></button><span class="lang">bat</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FORFILES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /P </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">文件路径</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /M </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">搜索掩码</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /S /C </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cmd /C IF @isdir==FALSE DEL @path /F /Q&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /D </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">文件日期</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><blockquote><p><strong>&lt;文件路径&gt;</strong> 示例：<code>&quot;D:\\Example\\Folder&quot;</code>、<code>&quot;.\\Example\\Folder&quot;</code>​</p><p><strong>&lt;搜索掩码&gt;</strong> 示例：<code>*.exe</code>、<code>*.png</code>、<code>*.txt</code>​</p><p><strong>&lt;文件日期&gt;</strong> 示例：<code>-100</code>（100 天前）、<code>-200</code>（200 天前）、<code>-365</code>（365 天前）</p></blockquote><h2 id="相关链接" tabindex="-1">相关链接 <a class="header-anchor" href="#相关链接" aria-label="Permalink to “相关链接”">​</a></h2><ul><li><a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/forfiles" target="_blank" rel="noreferrer">Microsoft Docs - forfiles</a></li><li><a href="https://blog.csdn.net/sandy9919/article/details/82932460" target="_blank" rel="noreferrer">CSDN - forfiles 命令说明 &amp; 用法示例</a></li><li><a href="https://blog.csdn.net/qq_35957944/article/details/108282201" target="_blank" rel="noreferrer">CSDN - 使用 CMD 删除指定文件夹下指定时间的文件</a></li></ul><p>‍</p>`,19)])])}const f=a(p,[["render",l]]);export{k as __pageData,f as default};
