# 铃心自定义（酷Q插件）自制词库分享

插件地址：`https://cqp.cc/t/46400`（已失效）
插件版本：3.3.4
词库制作：Frost-ZX
词库状态：停止更新（2020-08-02）
注意事项：
根据需要可自行添加 `【回复间隔[秒数]】`（例： `【回复间隔20】`）
配置文件编码为 `GB2132`

## 获取 Minecraft 国际版正版 UUID

### 更新

- 2020-05-03

### 关键词

- `MCUUID+ID`
- 前缀匹配
- 可自定义前缀
- 例：`MCUUIDFrost_ZX`

### 回复内容

```text
【赋值变量ID>=<【内容】】
【赋值变量URL>=<https://api.mojang.com/users/profiles/minecraft/【变量ID】】
【赋值变量Source>=<【访问-UTF【变量URL】】】
【赋值变量Source>=<【判空【变量Source】>=<{"id":"不存在"}】】
【变量ID】 的 UUID：【Json解析【变量Source】>=<id>=<[取出所有]>=<>=<】
```

## 今日事件

### 更新

- 2020-04-25

### 获取

#### 关键词

- `今日事件`
- 完全匹配
- 可自定义

#### 回复内容

```text
【赋值变量Today>=<【现行日期-年】【现行日期-月】【现行日期-日】】
【赋值变量QQNumber>=<【发送者QQ】】
【<-- 配置文件 -->】
【赋值变量INIFile>=<files/epk_today_events.ini】
【赋值变量TXTFile>=<files/epk_today_events.txt】
【赋值变量TXTFileContent>=<【读入【变量TXTFile】】】
【<-- 读取日期记录 -->】
【赋值变量RecordDate>=<【读配置【变量INIFile】>=<【变量QQNumber】>=<date>=<0】】
【<-- 读取事件数量 -->】
【赋值变量Max>=<【计算【取出行数【变量TXTFileContent】>=<】-1】】
【<-- 生成新的事件序号 -->】
【判含【变量RecordDate】>=<【变量Today】>=<
【写配置【变量INIFile】>=<【变量QQNumber】>=<date>=<【变量Today】】
【写配置【变量INIFile】>=<【变量QQNumber】>=<event>=<【随机数1-【变量Max】】】
>=<】
【<-- 读取事件序号 -->】
【赋值变量RecordEvent>=<【读配置【变量INIFile】>=<【变量QQNumber】>=<event>=<1】】
【<-- 读取事件内容 -->】
【赋值变量TodayEvent>=<【取出一行【变量TXTFileContent】>=<【变量RecordEvent】】】
【<-- 计算数值 -->】
【赋值变量LuckValue>=<【计算(【变量QQNumber】+【变量Today】)/【变量RecordEvent】】】
【赋值变量LuckValue>=<【计算【变量LuckValue】@0】】
【赋值变量LuckValue>=<【文本-取出右边【变量LuckValue】>=<2】】
【<-- 发送 -->】
【艾特】今天的幸运指数是：【变量LuckValue】【换行】【变量TodayEvent】
```

### 重置

#### 关键词

- `重置事件`
- 完全匹配
- 可自定义

#### 回复内容

```text
【一天上限2】
【判真【逻辑【随机数1>=<10】>2】>=<
【赋值变量QQNumber>=<【发送者QQ】】
【<-- 配置文件 -->】
【赋值变量INIFile>=<files/epk_today_events.ini】
【<-- 重置日期 -->】
【写配置【变量INIFile】>=<【变量QQNumber】>=<date>=<0】
【<-- 发送 -->】
【艾特】已重置。
>=<【艾特】重置失败！】
```

### 配置文件

- 数据记录：`酷Q根目录/files/epk_today_events.ini`（可自动生成）
- 事件词库：`酷Q根目录/files/epk_today_events.txt`（需手动写入；一行一个事件；末尾空一行）

## 禁言对方

### 更新

- 2020-05-03

### 简介

- 禁言群内的目标QQ
- 默认每群一天仅可执行一次，每人每天仅可执行一次（可在 `配置文件` 和 `回复内容` 中修改）
- 默认 `06:00 ~ 23:00` 可用（可在 `配置文件` 中修改）

### 关键词

- `我要禁言+QQ`
- 前缀匹配
- 例：`我要禁言2854196310`
- 可自定义前缀

### 回复内容

```text
【一天上限1】
【<-- 替换参数 -->】
【赋值变量QQ>=<【取整【内容】】】
【赋值变量QQ>=<【判断【变量QQ】>=<【机器人QQ】>=<【变量QQ】>=<【发送者QQ】】】
【<-- 今天的日期 -->】
【赋值变量Today>=<【现行日期-年】【现行日期-月】【现行日期-日】】
【<-- 读取数据 -->】
【赋值变量INIFile>=<files/epk_mute_other.ini】
【赋值变量TimeMin>=<【读配置【变量INIFile】>=<settings>=<time_min>=<6】】
【赋值变量TimeMax>=<【读配置【变量INIFile】>=<settings>=<time_max>=<23】】
【赋值变量OnedayMax>=<【读配置【变量INIFile】>=<settings>=<oneday_max>=<5】】
【赋值变量RunDate>=<【读配置【变量INIFile】>=<run_date>=<【当前群号】>=<0】】
【<-- 判断日期，不为当天则重置 -->】
【判真【逻辑【变量RunDate】!=【变量Today】】>=<
【写配置【变量INIFile】>=<run_date>=<【当前群号】>=<【变量Today】】
【写配置【变量INIFile】>=<records>=<【当前群号】>=<0】
>=<】
【<-- 判断时间，不为时间段内则不执行 -->】
【判真【逻辑【现行时间-时】>=【变量TimeMin】且【现行时间-时】<=【变量TimeMax】】>=<
【<-- 读取执行次数 -->】
【赋值变量Count>=<【读配置【变量INIFile】>=<records>=<【当前群号】>=<0】】
【<-- 判断执行次数 -->】
【判真【逻辑【变量Count】<【变量OnedayMax】】>=<
【写配置【变量INIFile】>=<records>=<【当前群号】>=<【计算【变量Count】+1】】
【禁言2>=<【变量QQ】】
剩余 【计算【变量OnedayMax】-【变量Count】-1】 次
>=<今天本群的禁言次数已被用完。】
>=<非使用时间段（本次已计入个人单日使用次数）。】
```

### 配置文件

- `酷Q根目录/files/epk_mute_other.ini`
- 需要手动写入的内容

  ```text
  [settings]
  ; 可执行的时间范围（单位：时）
  time_min=6
  time_max=23
  ; 一天内最大可执行次数
  oneday_max=5
  ```

## 精致睡眠

### 简介

- 禁言发送关键词者至当日 06:00 或次日 06:00

### 关键词

- `精致睡眠`
- 完全匹配
- 可自定义

### 回复内容

- 仅晚上可用

```text
【判真【逻辑【现行时间-时】>=20】>=<【禁言480>=<】【艾特】睡吧，晚安~>=<】
【判真【逻辑【现行时间-时】<=1】>=<【禁言360>=<】【艾特】睡吧，晚安~>=<】
```

- 根据当前执行时间

```text
【赋值变量Now>=<【现行时间-时】】
【赋值变量ModeA>=<【计算(24-【变量Now】+6)#xh60-【现行时间-分】】】
【赋值变量ModeB>=<【计算(6-【变量Now】)#xh60-【现行时间-分】】】
【判真【逻辑【现行时间-时】>=6】>=<【禁言【变量ModeA】>=<】>=<】
【判真【逻辑【现行时间-时】<6】>=<【禁言【变量ModeB】>=<】>=<】
【艾特】睡吧~
```

- 根据时间，Minecraft 提示语

```text
【赋值变量Now>=<【现行时间-时】】
【判真【逻辑【变量Now】>=18或【变量Now】<=6】>=<
【<-- 是否成功 -->】
【判真【逻辑【随机数1>=<100】>50】>=<
【<-- 成功 -->】
【赋值变量ModeA>=<【计算(24-【变量Now】+6)#xh60-【现行时间-分】】】
【赋值变量ModeB>=<【计算(6-【变量Now】)#xh60-【现行时间-分】】】
【判真【逻辑【现行时间-时】>=6】>=<【禁言【变量ModeA】>=<】>=<】
【判真【逻辑【现行时间-时】<6】>=<【禁言【变量ModeB】>=<】>=<】
【艾特】睡吧，晚安~
>=<
【<-- 不成功 -->】
【赋值变量Select>=<【随机数1>=<5】】
【选择【变量Select】>=<
【艾特】你现在不能休息，周围有怪物在游荡>=<
【艾特】你的床已遗失或被阻挡>=<
【艾特】这张床已被占用>=<
【艾特】你现在不能休息，床太远了>=<
【艾特】你的床炸了【禁言720>=<】】
】
>=<【艾特】你只能在晚上睡觉】
```

## 统计群内“草”的次数

### 记录

#### 关键词

- `草`
- 模糊匹配

#### 回复内容

```text
【赋值变量CountBefore>=<【读配置files/epk_datas.ini>=<stats>=<count_grass_【当前群号】>=<0】】
【赋值变量CountAfter>=<【计算【变量CountBefore】+1】】
【写配置files/epk_datas.ini>=<stats>=<count_grass_【当前群号】>=<【变量CountAfter】】
```

### 获取

#### 关键词

- `草的数量`
- 完全匹配
- 可自定义

#### 回复内容

```text
本群目前已有 【读配置files/epk_datas.ini>=<stats>=<count_grass_【当前群号】>=<0】 棵草。
```
